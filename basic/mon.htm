<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 6.5.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>N88BASIC: MON</TITLE>
</HEAD>
<BODY bgcolor="#ffffff" text="#333333" link="#003399" vlink="#990033" alink="#339900" background="../w6b.gif">
<CENTER><IMG alt="直線上に配置" width="512" height="50" border="0" src="../bu06_l1.gif">
<H2>機械語モニタ"mon"の使い方</H2>
<BR>
<TABLE width="512" border="0">
  <TBODY>
    <TR>
      <TD align="center"><B>機種別使用方法</B></TD>
    </TR>
  </TBODY>
</TABLE>
<IMG alt="直線上に配置" width="512" height="10" border="0" src="../pe03_l2.gif"><BR>
<TABLE width="512" border="0">
  <TBODY>
    <TR>
      <TD align="left">
      <PRE>
★概要
PC98におけるモニタは２種類ある。

・機械語モニタ　ROM-BASIC搭載の基本的なモニタ機能
・拡張モニタ　　DISK-BASIC搭載の機能が追加されたモニタ機能

機械語モニタが使用できるかは機種によって条件が異なる。

本記事において機種の世代は対応するDISK-BASICのバージョンで区別する。
詳しくは<A href="n88.htm">こちらを参照</A>。

〇付属（対応）するN88 DISK-BASICがVer 1.0または2.0の世代
・PC-9801無印/E/F/Mの事
・ROM-BASICから機械語モニタが実行可能
・DISK-BASICでは拡張モニタが使用可能※1

※1:Ver3.0以降(PC-98H45,98H48)ではswitch.n88による拡張モニタ機能の使用設定が必要。

〇付属するN88 DISK-BASICがVer 3.0または4.0の世代
・U2/VF2/VM0,2,4/UV2/UV21/VX0,2,4の事
・ROM-BASICから機械語モニタが実行可能※2
・DISK-BASICでも機械語モニタが実行可能
　更にswitch.n88で「拡張モニタモード」を使用するに設定する事で拡張モニタが使用可能※3

※2:いくつかのコマンドが削除され拡張モニタに移管された。

※3:Ver2.0以前のDISK-BASICではメモリスイッチの設定に関係なく拡張モニタが使用可能

〇付属するN88 DISK-BASICがVer 4.1以降の世代
・VX01,21,41以降に発売された機種
・ROM-BASICから機械語モニタが削除され使用不可※4
・DISK-BASICではswitch.n88で「モニタ機能」を使用するに設定する事で拡張モニタが使用可能※5

※4:VX01,21,41では80286 10MHzの時のみ使用不可。80286 8MHzかV30の時は使用可能。
　  この時DISK-BASICについてもVer 4.0以前の拡張モニタ機能が使用可能。

※5:Ver 4.1以降のDISK-BASICでは機械語モニタ＋拡張モニタの両方を含むため、
　  当該機種で機械語モニタ／拡張モニタを使用するにはVer 4.1以降のディスクが必要。
　  Ver 4.0以前は機械語モニタが収録されておらず"mon"が使用できないため要注意。
　  また、CMT I/FはVX01,21,41/UX21,41/UV11でのみ対応しているため、
　  使用予定があるなら98H49,98D41,98D42,98D44のいずれかを用意する事が望ましい。

〇コマンド一覧

★のコマンドは拡張モニタでのみ有効。
◎のコマンドは原則、拡張モニタでのみ有効。
　ただし無印/E/F/Mでは機械語モニタでも使用可能。
△のコマンドはＣＭＴ対応機種でのみ使用可能。



★A [開始アドレス] 
アセンブル。ニーモニックを機械語に変換しメモリに格納する。
STOPまたはCtrl+Cで終了。
仕様により64Kバイトを超える動作命令(CALLやJMP)は使用不可

BH 数値を16進数表記にする. 入力促進メッセージは h]（デフォルト）
BQ 数値を8進数表記にする. 入力促進メッセージは q]

C [セグメントベースアドレス] 
機械語プログラムセグメントのベースアドレスを変更する。
入力したセグメントベースアドレスを16倍した値が実際のベースアドレスになる。
数値を入力しなかった場合は現在のセグメントベースアドレスを示す。

D [開始アドレス] ,[終了アドレス]
メモリダンプ。この機能はPスイッチによるプリンタ出力が有効。
一度に出力できる空間は65535バイトまで。

◎E [開始アドレス]
メモリ内容の編集（エディット）。
カーソルやROLLUP/DOWNキーを使って数値の閲覧・代入が可能。

F [開始アドレス] ,[終了アドレス] ,[定数]
メモリの空間を指定した定数で埋める。
Fコマンドの変数3つはいずれも省略不可。
定数は0 - FF まで有効

G [実行開始アドレス] ,[ブレイクポイントアドレス1] ,[ブレイクポイントアドレス2]
指定したアドレスに飛んでプログラムを実行する。
ブレイクポイントアドレスを指定すると当該アドレスになった時に実行を中止して入力待ち状態になる。
この時、CPUのレジスタの値は保存されている。

I [ポートアドレス]
入力ポートの値を読んで表示する
スペースキーを押すと次の入力値、Enterで終了

★L [開始アドレス] ,[終了アドレス]
逆アセンブル。この機能はPスイッチによるプリンタ出力が有効。
仕様により64Kバイトを超える動作命令(CALLやJMP)は使用不可

M [転送元開始アドレス] ,[転送元終了アドレス] ,[転送先開始アドレス]
メモリ内容のコピーを行う。

O [ポートアドレス] ,[データ]
指定したポートアドレスにデータを出力する

P
プリントスイッチ。Pを押すたびにONとOFFが切り替わる。
デフォルトはOFF。ONになるとコマンド促進メッセージが]から)に変わる
例: h] → h)
対象コマンドは D, L, Ctrl+D

△R 1:[ファイル名] または R 2:[ファイル名]
CMTよりカセットテープデータを読み取る。
ただしファイル名は6文字以下。

S [開始アドレス]
メモリの内容表示および変更

SSW[1～7]
メモリスイッチの内容表示および変更
単にSSWと打った場合は全SSWの値が表示

TM
テストメモリ。
メモリスイッチに指定されたユーザメモリ+VRAMが対象。

※SCREEN 0,2 と WIDTH 80,25 の指定が必要な機種あり

△V 1:[ファイル名] または V 2:[ファイル名]
CMTよりカセットテープデータを読み取り、メモリの内容と一致しているか検証
Wコマンドの直後にのみ有効

△W 1:[ファイル名] または W 2:[ファイル名]
メモリの内容をCMTよりカセットテープへ保存する
1: は 1200ボー、 2: は 600ボー。

X [CPUレジスタ名またはフラグ名]
全レジスタ・フラグの内容表示および変更。
CPUレジスタ名またはフラグ名を省略した場合は全内容が表示。
Gコマンドでのみ変更が反映される仕様。

◎HELPキー　または Ctrl+A
モニタで使用できるコマンド一覧の表示

Ctrl＋B
BASICモードへ戻る

★Ctrl＋D [ドライブ#] ,[サーフェス#] ,[開始トラック#] 
 ,[開始セクタ#] ,[終了トラック#] ,[終了セクタ#]
ディスク内容のダンプ。片面ドライブを除き全変数の指定必須。

★Ctrl＋R [ドライブ#] ,[サーフェス#] ,[開始トラック#] 
 ,[開始セクタ#] ,[開始アドレス] ,[終了アドレス]
ディスクからメモリへのデータロード。

★Ctrl＋W [ドライブ#] ,[サーフェス#] ,[開始トラック#] 
 ,[開始セクタ#] ,[開始アドレス] ,[終了アドレス]
メモリ内容をディスクに書き込む。</PRE>      </TD>
    </TR>
    <TR>
      <TD></TD>
    </TR>
  </TBODY>
</TABLE>
<IMG alt="直線上に配置" width="512" height="10" border="0" src="../pe03_l2.gif"><BR>
<BR>
<A href="index.htm"><IMG alt="トップ アイコン" width="64" height="64" align="middle" border="0" src="../st05_tp.gif"></A></CENTER>
</BODY>
</HTML>